<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--=============== FAVICON ===============-->
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/icond.png') }}" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--=============== BOXICONS ===============-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!--=============== SWIPER CSS ===============-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/swiper-bundle.min.css') }}">
    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<title>Create New RAG</title>
<body>
    <!--=============== HEADER ===============-->
    
    <header class="header" id="header">
        <nav class="nav container">
            <a href="{{ url_for('panel') }}" class="nav__logo">IntelliForge</a>
            
            </div>
            <!-- Change Theme Color -->
            <i class='bx bx-moon change-theme' id="theme-button"></i>
        </nav>
    </header>

    <main class="main">
        <!--=============== FORM SECTION ===============-->
        <section class="home section" id="home">
            <div class="home__container container grid">
                <section class="contact section" id="contact">
                    <h2 class="section__title">Create New RAG Application</h2>
                    <span class="section__subtitle">First, let's give your RAG a name</span>
            
                    <div class="contact__container container grid">
                        <div class="contact__content">
                            <form action="{{ url_for('rag_creator.create_new_rag') }}" method="POST" class="contact__form">
                                <div class="contact__form-div">
                                    <label for="rag_name">RAG Application Name:</label>
                                    <input type="text" name="rag_name" id="rag_name" placeholder="My RAG Application" required>
                                </div>
                                <button type="submit" class="button">Create & Continue</button>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </section>
    </main>
        
    <<script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.nav__link').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href').substring(1); // Get section ID from href
                    const targetSection = document.getElementById(targetId);
                    
                    // Fallback if smooth scroll behavior isn't natively supported
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                });
            });
        });
        /*=============== LIGHT DARK THEME ===============*/ 
        const themeButton = document.getElementById('theme-button')
        const lightTheme = 'light-theme'
        const iconTheme = 'bx-sun'
        
        // Previously selected topic (if user selected)
        const selectedTheme = localStorage.getItem('selected-theme')
        const selectedIcon = localStorage.getItem('selected-icon')
        
        // We obtain the current theme that the interface has by validating the dark-theme class
        const getCurrentTheme = () => document.body.classList.contains(lightTheme) ? 'dark' : 'light'
        const getCurrentIcon = () => themeButton.classList.contains(iconTheme) ? 'bx bx-moon' : 'bx bx-sun'
        
        // We validate if the user previously chose a topic
        if (selectedTheme) {
        // If the validation is fulfilled, we ask what the issue was to know if we activated or deactivated the dark
        document.body.classList[selectedTheme === 'dark' ? 'add' : 'remove'](lightTheme)
        themeButton.classList[selectedIcon === 'bx bx-moon' ? 'add' : 'remove'](iconTheme)
        }
        
        // Activate / deactivate the theme manually with the button
        themeButton.addEventListener('click', () => {
            // Add or remove the dark / icon theme
            document.body.classList.toggle(lightTheme)
            themeButton.classList.toggle(iconTheme)
            // We save the theme and the current icon that the user chose
            localStorage.setItem('selected-theme', getCurrentTheme())
            localStorage.setItem('selected-icon', getCurrentIcon())
        })

</script>
    
</body>
</html> 